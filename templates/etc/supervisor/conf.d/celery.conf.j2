; << Ansible managed file >>

[program:celery]
directory    = {{celery_appdir}}
command      = {{celery_bin}} worker -A {{celery_app}} --loglevel={{celery_loglevel}}
process_name = %(program_name)s_%(process_num)s
user         = {{celery.owner}}
numprocs     = {{celery_procs}}

stdout_logfile = {{celery_logdir}}/%(program_name)s_%(process_num)s.log
stderr_logfile = {{celery_logdir}}/%(program_name)s_%(process_num)s_error.log

autostart   = true
autorestart = true
startsecs   = 10

; Need to wait for currently executing tasks to finish at shutdown.
stopwaitsecs = 600

; When resorting to send SIGKILL to the program to terminate it
; send SIGKILL to its whole process group instead,
; taking care of its children as well.
killasgroup = true

